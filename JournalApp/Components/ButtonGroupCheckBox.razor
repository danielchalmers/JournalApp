@namespace JournalApp

<MudStack Row="true" Spacing="0" Class="d-flex flex-grow-1">
	@foreach (var option in options.Keys)
	{
		<MudButton Color="Color.Primary" Class="flex-grow-1" Variant="@(options[option] == SelectedValue ? Variant.Filled : Variant.Outlined)" OnClick="@(() => OnClick(option))">@option</MudButton>
	}
</MudStack>

@code {
	Dictionary<string, bool> options = new() { { "No", false }, { "Yes", true } };
	bool? _selectedValue;

	[Parameter]
	public bool? SelectedValue
	{
		get => _selectedValue;
		set
		{
			if (_selectedValue == value)
				return;

			_selectedValue = value;
			SelectedValueChanged.InvokeAsync(value);
		}
	}

	[Parameter]
	public EventCallback<bool?> SelectedValueChanged { get; set; }

	void OnClick(string newValue)
	{
		if (options[newValue] == SelectedValue)
			SelectedValue = null;
		else
			SelectedValue = options[newValue];
	}
}